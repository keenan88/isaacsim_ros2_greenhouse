# Fine to use humble image since it is the only base image
FROM osrf/ros:humble-desktop

RUN apt-get update
RUN apt install vim -y

RUN apt install ros-humble-joint-state-publisher-gui -y
RUN apt install ros-humble-navigation2 -y
RUN apt install ros-humble-nav2-bringup -y
RUN apt install ros-humble-teleop-twist-joy -y
# Installing dbus-x11 allows gnome-terminal to run as new shell in docker container, I dont know why
# Inspiration for dbus-x11 taken from: https://github.com/ecoation-labs/ant-drone-ros/blob/a7c76d847c44bf1a9e6afba329de81660ced5a3d/docker_dual_system/local/dockerfiles/commander.Dockerfile#L24
RUN apt install gnome-terminal dbus-x11 -y
ENV LANG=en_US.UTF-8

RUN apt-get update
RUN apt install ros-$ROS_DISTRO-rmw-cyclonedds-cpp -y
ENV RMW_IMPLEMENTATION=rmw_cyclonedds_cpp

ENV ROS_DOMAIN_ID=1

RUN echo "source /opt/ros/humble/setup.bash" >> ~/.bashrc

